# Выпускной проект курса OTUS Администратор Linux
#### поток 2020-01

## Тема: Отказоустойчивый почтовый сервер на базе postfix + dovecot
#### Создание проекта основано на знаниях, полученных в ходе обучения на курсе.

### Использованные opensource-технологии
* DRBD
* Pacemaker
* Corosync
* Percona XtraDB Cluster
* Nginx
* Keepalived



### Условия, в которых создавался стенд:
* Vagrant v.2.2.7
* ansible v.2.9.7
* VirtualBox v.5.2.36

### Минимальные требования к железу для развертывания
* Intel Core i5
* RAM 16 GB
* Подключение к сети Internet 20 Mbit/s

### Рекомендуемые требования к железу для развертывания
* Intel Core i7
* RAM 16 GB
* Подключение к сети Internet 100 Mbit/s



### В качестве операционной системы на всех хостах стенда используется Centos 7


### Схема стенда
![schema](https://viewer.diagrams.net/?highlight=B3B3B3&edit=_blank&layers=1&nav=1&title=otus-project#R7V1Zc6O4Fv41rpr7YBf78ui1p2eyTdLdk8xLFwbFZhojLuDEvr%2F%2BSiDMImFjB2yS4OrqgMAIzvedI51FuCeOV5svvuEtr6EFnJ7AWZueOOkJAq9LIvqDW7akRROkuGXh2xZpSxse7P8B0siR1rVtgSB3YgihE9pevtGErgvMMNdm%2BD58zZ%2F2DJ18r56xAFTDg2k4dOvfthUuSSuv6OmB34G9WJKuNUGND8wN89fCh2uX9OdCF8RHVkZyGfKMwdKw4GumSZz2xLEPYRhvrTZj4GC5JhKLvzcrObq7ZR%2B4YZUvrP9w%2Fxj%2BNdvMb6aTv%2Bfmj%2FE%2F18M%2Br8SXeTGcNZEFudtwmwjHCLxY5s%2F2BqCLjTzg2ysQAh%2B1oT4QSOAubRotw5WDjvBo03DshYu2TXSP0bGdEDi0YxnBEl8w2gk8w7TdxTfooQYRNdirCLTk78ReLdDDOfYc%2FW%2BYof0Cflq2j%2B4M%2BlvUZOMeXBD%2BNB24tgbBywJ99xm64cxY2Q4m5u%2FAeQGhbRrkAKEhL5D9MXSgHz2yKAmqOhrhuwp9%2BAtkjnDRB3%2FDdpxM%2B3P0Qe00LASpF%2BCHYJNpIjB9ARBJDj8Dt0l5N%2BAyH4LJa0pNVRYHghw3LzPElDXCNoNoxGJ39ZQaaIOw4wim7B5jD1MiRdgh%2Brq0Q%2FCAYMVHX5HlyHPDMebAGe30JyPLGfqMx%2BgUiDkRYuxUhshns6kSnRaDlCiuwIJtPFaUCLY64EFiHhD7tk3Erg50mUJJUTkaop1BqB2ipLdqEPFvg0gjapBXnFn0yUEn49MWvmHZSOSTSGNtiI2CC30sKBrWkagodUGl6gNFSDWJz8GmcEzYZIkBG9%2BcZomX1CyZoVlThZxWQbM4rlHN0tgQsTWrMYgU7SNo1ghdpEbNoqDiq2sTUr2GoJKOguoc49QYfSLkKmiTGOlTY9rEc8cMVGJj6iR8BHVS0Ce6RDPqxPNH6BPfmD7xFeZ9wLWG2AtDexCdl8cGHZzZTrIXhIYfFk6O2jLnIDH620esnQM52X2KdjVFSBomG6K%2B8d42u5fxRiZ7hybU8QKE%2B56e%2BEfAyjmQNI5ZgBj4JG0%2BcAzsuuTugoUZ6eEOIr8mQxNZKtJEkVKWJBcK4No3Aflu1iVkXU7h5aKjkcxqVY7lhiS9xMKjeolYtpNMJeLpz2ADnsTXK%2BH2%2Fl%2F7u7S9fgT9xPfeSzwEywPZxUoKF9A1nGnaOsqb%2BvScKxg5mphu%2F4Iw3BJn0FiHME%2FfUu4cpERlrKvqJ1NMVSb9nZj6ahUz1olJrTAyd2LqqxVctk5MfVXqxFRFTHInpipiqhCr7sTUV9VOTFXEVCFO0Impr3az8Cpi0rpZeCUxdbPwSmLqZuGVxNTNwiuJqZuFVxJTNwuvFA%2FmLiEVsLHDTEQY7T2Ri%2BHtNBaMd3KhYFYY%2BWAIuRjNPj6EXYpiHJrdJ9%2F4vIORabVdrGCNWIoTksRLji%2FKf9cwOdAPIsSH6ARe8jbpQbS1wH9%2FAeAZDrp%2FC1%2Fd9sO1Ed2Ml1we3W7cQ3w%2Bk5xXOD3U21%2BZhHM1tmk4Q3JgZVtWzF2A7tGYR9fD9PBwwDuSnzzqyZNepexTfAr0LeAnh6NSMXEUgk14u8tBaftSVTSp9moolX3a1c%2BRp%2BllC9FYWSluIMo6QZbkBMiQ%2B8Y8Rl%2BW8l%2BBz88BeGsaYZ8%2BMYg5TzlzJFM1FlPdxQaXl5Swctc8L2VqsDQ8vJkUvmXYWiRniM3mrjWi9x0MbJKvnMMwhKu9xNyVq0WdDZMKP8w%2BqtwvKcBbhiEuxxxiiISZabnSwEaEeraRafcHJupRmFlGaOBiPNQe4Go9ZOaD%2Ftw3XCvoo%2FF1hutCZ%2B7CdjfIZGgDz42q9Ip51ZFQW15VVKViwkyWmSlwEg%2FIZu2StvqLFBoiZfS1Ai89GIQIyrdx8zw1oCV8JZayWLN5VMWoPcf0fPFM9P8IMeoahIbzAHxEJVIrWm6ia%2BEhT5XLqOxSDEb2uLHkPitU2JhxTK%2FtM7jXmcs2mEtFEihzKV3cXPK0o8%2FrwoBXtAHPo388RY6jKrzyVVhE6dO6oGRKlrg4jMr7E%2ByBpBUErcoCS9C8wCrNkpuSND0y5SRNu8Stl7TCK62UNB1uyEmadrPfLukD42uxDjtTOZcicox7cjxYkkbVN7Htz3nBElUKjYsFPZIj7KBHtfq6%2FQGOUiAPBi%2BSkNnB6AUBqr7oRWmBG1%2Bcdgl0vVx9lWx7pVIeHDF36pROnJJJBzWXur%2F9fjMZfx9Nq4ZA3m44mpxyMFRe0yqrvKg3pPJCuY92Cmh3w%2FH0evjn9L6HnwI3GysseXceeIcnwsjVcZmTb3IPeOLtL%2Ba%2FCbIcXR89MlfY%2Fg99T%2BPb%2B9uHp5txpvO4o3PxSJroem1rR1RGtbvCM4nErHZvauwQyp2sk4h0%2B%2FBt9vXxYrovirpem%2B6rOuUVC0yvmOfOChmrNuR0yCa3P6bj228fFrKS6fR5IWPVqcTy9nxQHrh4JquDh5GtJEZ5Z1zdADroVgvtNMIH7fTBvpa7xckHO8u5CWKp8d4Ta4kk0hj7GvbnBGq%2BoCt6C1wEsT0uwkfMi0oVPYuqC3be6llIXDGAo2jy6StxFLUYpVA0qaqjgoRubDOnkRRl%2Bc2L1DKizLhbeo9qhW%2BhjfhuavWgxHLrfsqA7Jmr8mzIu5r0igI30PPGUOdYxlDSz2gLpXrhugM%2BGorRyMg9hr5hzdHG2FkHOJt0OQ%2B4xrWfqkh5LoLO9lxY2aHGYJRZ9XW79NBhb5Tb%2BZ%2BZLYYfWk%2BKyduY7yDFWfaimQq5pxrynyTfhP%2F8DID%2FYpsgSF6Vkye4rotiRPBkQTSL%2FDBft1KLQaPypDwvXT5RKpdHg9qpCkKnCu9dFeSWqgKrTrbNqiB2qvDeVUFtqSqUxwk%2FctAputBnDzrxgsQNpEtHneTPGfYU%2BE%2FHQDpN2g4GJsb1szFQ%2BHQMVFrKQFH4lAzEBWSfnoGtSP3sdYgaquZ%2FB%2F79Rav5m3HAdfYr%2Bc7qdEjlA%2B6JuZByLr2rXIhM5UJ4Trx8MkQsX4H2oYenz1eZIGnFYlOe41owPinlA9QbKtCGk%2BuvNxezHE3XNLEXZ525pon1wqs3lKHdjyYXwwspgi5N6sKLUeopspcJnLXUU6x3aL67v318evjr6mKg1ZvlppRMx3nvSyuZVD48nzidKs83vKvplNrK0pJyk9icr%2FUOEkjv3teiMzxtWB8t0gmexhfplU10ypbdNRJpLv%2FNFE1kz4zOOqOVyssx9js6h143k3%2FDDIeRWxm%2FcKEZ5wNSo3qp1TIHmXDmpKwkS%2Ft4wg6V8Drr1wvUQWNMKQ8OnzK857RfufzE7AxpJk1pgcIz3tb653R6N7z6%2BmM6aUDe7V8prVI%2FGKJqLVjWznhf7M2XrzeP58eoiAX9ozx7fxemGYyUEqt4VowYL6vNrCluF06zGa45Oj9O7JdEnRmnel3T6%2B1lYwk1rhlXteJbvXheYFu%2F5OUw50Gs3tnGl%2BHV9H74cSFT2PGfmiBDu%2Bmv68YrkdKfLxan%2Fwc%3D)


### Развертывание стенда
Производится путем последовательного выполнения следующих команд:

```
git clone https://github.com/zradeg/otus_project

cd otus_project

vagrant up

ansible-playbook playbook.yml
```











1. postfixadmin setup
http://192.168.11.113/setup.php
Setup password postfix2020
Администратор: admin@postfix.loc
Пароль: произвольный





* Использованная документация:
https://www.linbit.com/drbd-user-guide/drbd-guide-9_0-en/
https://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/1.1/html-single/Clusters_from_Scratch/index.html
https://www.percona.com/doc/percona-xtradb-cluster/LATEST/index.html
https://github.com/roundcube/roundcubemail/wiki
https://postfix-configuration.readthedocs.io/en/latest/postfixadmin/
